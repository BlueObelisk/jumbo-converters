<template repeat="*"  id="dftfinalmolorb" name="DFT" pattern=".*DFT Final Molecular Orbital Analysis.*$\s+\-+.*" newline="$" endPattern=".*$\s*\-+\s*">
  <comment>
                       DFT Final Molecular Orbital Analysis
                       ------------------------------------

 Vector   19  Occ=2.000000D+00  E=-2.132706D+00  Symmetry=e'
              MO Center=  2.3D-03, -4.3D-04,  3.4D-18, r^2= 2.5D-01
   Bfn.  Coefficient  Atom+Function         Bfn.  Coefficient  Atom+Function  
  ----- ------------  ---------------      ----- ------------  ---------------
    10      1.026049   1 Fe py                7     -0.387574   1 Fe py        
     9      0.317409   1 Fe px        

 Vector   20  Occ=2.000000D+00  E=-1.070170D+00  Symmetry=a1'
              MO Center=  2.9D-18,  1.6D-18, -9.4D-17, r^2= 7.3D+00
   Bfn.  Coefficient  Atom+Function         Bfn.  Coefficient  Atom+Function  
  ----- ------------  ---------------      ----- ------------  ---------------
    58     -0.318095   4 O  s                73     -0.318095   5 O  s         
    59      0.195533   4 O  s                74      0.195533   5 O  s         
    47     -0.167651   3 C  pz               32      0.167651   2 C  pz        
    28      0.164725   2 C  s                43      0.164725   3 C  s         

  </comment>
  <record repeat="3">{X}</record>
  <templateList>
    <template repeat="*" id="vector"
      pattern="\s*Vector\s*.*" endPattern="\s*">
      <record id="vv">\s*Vector\s*{I,n:v}\s+Occ={E,n:occ}\s+E={E,n:e}\s+Symmetry={A,n:sym}.*</record>
      <record id="vv2">\s*MO\s+Center=\s*{E,n:mo1},\s*{E,n:mo2},\s*{E,n:mo3},\s*r\^2={E,n:r2}.*</record>
      <record id="junk" repeat="2">{X}</record>
      <record id="orb2" repeat="*">{I,n:i}{F,n:f}{I,n:j}{A,n:a}{A,n:orb}{I,n:i}{F,n:f}{I,n:j}{A,n:a}{A,n:orb}</record>
      <record id="orb1" repeat="*">{I,n:i}{F,n:f}{I,n:j}{A,n:a}{A,n:orb}</record>
    </template>
  </templateList>
  <transform process="vector3" xpath=".//*[@templateRef='vv2']/*" 
      from="*[@dictRef='n:mo1' or @dictRef='n:mo2' or @dictRef='n:mo3']"
      dictRef="n:mocenter"/>
  <transform process="pullupSingleton" xpath=".//cml:list[count(*)=1]"/> 
</template>
