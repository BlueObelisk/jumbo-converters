<template repeat="*"  id="dftFinal" name="Final DFT energy" 
  pattern="\s*Total DFT energy.*" newline="$" endPattern="\s*$\s*">

  <comment class="example.input" id="dftFinal">
         Total DFT energy =    -1823.680196170071
      One electron energy =    -4105.874590431184
           Coulomb energy =     1601.844762163483
    Exchange-Corr. energy =     -118.145985996560
 Nuclear repulsion energy =      798.495618094190

 Numeric. integr. density =       95.999997053934

     Total iterative time =      6.9s  
     
     
  </comment>
  <record id="Energy_total">\s*Total DFT energy =\s*{F,compchem:Energy_total}</record>
  <record id="Energy_1e">\s*One electron energy =\s*{F,compchem:Energy_1e}</record>
  <record id="Energy_Coulomb">\s*Coulomb energy =\s*{F,compchem:Energy_Coulomb}</record>
  <record id="Energy_xc">\s*Exchange\-Corr. energy =\s*{F,compchem:Energy_xc}</record>
  <record id="Energy_NucRep">\s*Nuclear repulsion energy =\s*{F,compchem:Energy_NucRep}</record>
  <record/>
  <record id="numintegdens">\s*Numeric\. integr\. density =\s*{F,n:numintegdens}</record>
  <record/>
  <record id="totitertime">\s*Total iterative time =\s*{F,compchem:wallTime}s\s*</record>  
  <transform process="pullupSingleton" xpath="./cml:list"/>
  
  <transform process="delete" xpath=".//cml:list[@cmlx:templateRef='missingID']"/>
  
  <!-- Add Units -->
  <transform process="addUnits"
  xpath=".//cml:scalar[@dictRef='compchem:Energy_total' or @dictRef='compchem:Energy_1e' or @dictRef='compchem:Energy_Coulomb' or @dictRef='compchem:Energy_xc' or @dictRef='compchem:Energy_NucRep']"
  value="nonsi:hartree"
  />
  <transform process="addUnits"
  xpath=".//cml:scalar[@dictRef='compchem:wallTime']"
  value="si:s"
  />
  
  
  <comment class="example.output" id="dftFinal">
<module xmlns="http://www.xml-cml.org/schema" xmlns:cmlx="http://www.xml-cml.org/schema/cmlx" cmlx:templateRef="dftFinal">
<scalar dataType="xsd:double" dictRef="compchem:Energy_total" cmlx:templateRef="Energy_total" units="nonsi:hartree">-1823.680196170071</scalar>
<scalar dataType="xsd:double" dictRef="compchem:Energy_1e" cmlx:templateRef="Energy_1e" units="nonsi:hartree">-4105.874590431184</scalar>
<scalar dataType="xsd:double" dictRef="compchem:Energy_Coulomb" cmlx:templateRef="Energy_Coulomb" units="nonsi:hartree">1601.844762163483</scalar>
<scalar dataType="xsd:double" dictRef="compchem:Energy_xc" cmlx:templateRef="Energy_xc" units="nonsi:hartree">-118.14598599656</scalar>
<scalar dataType="xsd:double" dictRef="compchem:Energy_NucRep" cmlx:templateRef="Energy_NucRep" units="nonsi:hartree">798.49561809419</scalar>
<scalar dataType="xsd:double" dictRef="n:numintegdens" cmlx:templateRef="numintegdens">95.999997053934</scalar>
<scalar dataType="xsd:double" dictRef="compchem:wallTime" cmlx:templateRef="totitertime" units="si:s">6.9</scalar>
</module>
    </comment>

</template>
