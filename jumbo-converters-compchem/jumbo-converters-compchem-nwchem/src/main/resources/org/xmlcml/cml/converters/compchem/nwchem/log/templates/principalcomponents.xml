<template repeat="*"  id="principalcomponents" name="Principal Components and Axis System" 
  pattern="\s*Principal Components and Axis System\s*"
    endPattern="\s*3\s+.*" endOffset="1"
    >

  <comment class="example.input" id="principalcomponents">
          Principal Components and Axis System
                 1           2           3
              187.8811     86.4350     86.4315

      1         0.8660     -0.4984      0.0404
      2        -0.3215     -0.4932      0.8083
      3         0.3829      0.7130      0.5874


</comment>
  <record id="skip" repeat="2"/>
  <record id="comps">{3F,cc:principalcomp}</record>
  
  <record/>
  <record id="rows" repeat="3">{I,x:serial}{3F,cc:principal.axes}</record>

    <transform process="delete" xpath=".//cml:scalar[@dictRef='x:serial']"/>
    <transform process="createMatrix33" xpath="." from=".//cml:array[@dictRef='cc:principal.axes']" dictRef="cc:principalaxes"/>
    <transform process="pullup" repeat="2" xpath=".//cml:array | .//cml:matrix"/>
    
  <comment class="example.output" id="principalcomponents">
<module cmlx:templateRef="principalcomponents" xmlns="http://www.xml-cml.org/schema" xmlns:cmlx="http://www.xml-cml.org/schema/cmlx">
  <list cmlx:templateRef="skip">
    <scalar dataType="xsd:string" dictRef="x:x">Principal Components and Axis System</scalar>
  </list>
  <list cmlx:templateRef="comps">
    <list>
      <scalar dataType="xsd:double" dictRef="cc:compx">187.8811</scalar>
      <scalar dataType="xsd:double" dictRef="cc:compy">86.435</scalar>
      <scalar dataType="xsd:double" dictRef="cc:compz">86.4315</scalar>
    </list>
  </list>
  <list cmlx:templateRef="rows">
    <list>
      <scalar dataType="xsd:integer" dictRef="cc:serial">1</scalar>
      <scalar dataType="xsd:double" dictRef="cc:row.x">0.866</scalar>
      <scalar dataType="xsd:double" dictRef="cc:row.y">-0.4984</scalar>
      <scalar dataType="xsd:double" dictRef="cc:row.z">0.0404</scalar>
    </list>
    <list>
      <scalar dataType="xsd:integer" dictRef="cc:serial">2</scalar>
      <scalar dataType="xsd:double" dictRef="cc:row.x">-0.3215</scalar>
      <scalar dataType="xsd:double" dictRef="cc:row.y">-0.4932</scalar>
      <scalar dataType="xsd:double" dictRef="cc:row.z">0.8083</scalar>
    </list>
    <list>
      <scalar dataType="xsd:integer" dictRef="cc:serial">3</scalar>
      <scalar dataType="xsd:double" dictRef="cc:row.x">0.3829</scalar>
      <scalar dataType="xsd:double" dictRef="cc:row.y">0.713</scalar>
      <scalar dataType="xsd:double" dictRef="cc:row.z">0.5874</scalar>
    </list>
  </list>
</module>
    </comment>

</template>
