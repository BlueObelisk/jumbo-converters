<transformList>
  
  <!-- Process basis sets -->
 
 <!--  for time being use id's instead of modules -->
 <transform process="addAttribute" 
xpath=".//cml:module[@cmlx:templateRef='contraction']"
name="id" value="contraction"
/> 

 <transform process="addAttribute" 
xpath=".//cml:module[@cmlx:templateRef='contractions']"
name="id" value="contractions"
/> 

 <transform process="addAttribute" 
xpath=".//cml:module[@cmlx:templateRef='basis']"
name="id" value="basisSet"
/>

<!-- Doesn't appear to work so added dc using transform.namespaces.xml
This then fails with:
nu.xom.MalformedURIException: Missing scheme in absolute URI reference
    at nu.xom.Verifier.throwMalformedURIException(Unknown Source)
    at nu.xom.Verifier.checkAbsoluteURIReference(Unknown Source)
    at nu.xom.Element._setNamespaceURI(Unknown Source)
    at nu.xom.Element.<init>(Unknown Source)
    at org.xmlcml.cml.converters.text.TransformElement.createNewElement(TransformElement.java:2469)
    at org.xmlcml.cml.converters.text.TransformElement.addChild(TransformElement.java:659)
    at org.xmlcml.cml.converters.text.TransformElement.applyMarkup(TransformElement.java:470)
    at org.xmlcml.cml.converters.text.TransformElement.applyMarkup(TransformElement.java:455)
    at org.xmlcml.cml.converters.text.TransformListElement.applyMarkup(TransformListElement.java:122)
    at org.xmlcml.cml.converters.text.XML2XMLTransformConverter.convertToXML(XML2XMLTransformConverter.java:41)
    at org.xmlcml.cml.converters.compchem.nwchem.log.NWChemLogXML2CompchemConverter.convertToXML(NWChemLogXML2CompchemConverter.java:59)
    at org.xmlcml.cml.converters.AbstractConverter.convert(AbstractConverter.java:295)
    at org.xmlcml.cml.converters.AbstractConverter.convert(AbstractConverter.java:276)
    at org.xmlcml.cml.converters.compchem.nwchem.log.NWChemLog2CompchemConverter.convert(NWChemLog2CompchemConverter.java:42)
    at org.xmlcml.cml.converters.compchem.nwchem.log.NWChemLog2CompchemConverter.main(NWChemLog2CompchemConverter.java:61)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.codehaus.mojo.exec.ExecJavaMojo$1.run(ExecJavaMojo.java:297)
    at java.lang.Thread.run(Thread.java:680)
Cannot read/convert /Users/jmht/Documents/quixote/logfiles/nwchem/jens/methanol.nwo; nu.xom.MalformedURIException: Missing scheme in absolute URI reference
-->


<!--
  <transform process="addNamespace"
                  xpath=".//cml:module[@cmlx:templateRef='basis']"
                 name="dc"
                 value="http://purl.org/dc/elements/1.1/" />
-->

<!-- These should be dc elements but we're using cml scalars for now -->
 <transform process="addChild"
xpath=".//cml:module[@cmlx:templateRef='basis']"
elementName="cml:scalar"
id="basisset_title"
dictRef="compchem:basisset_title"
position="0"
/>
<!-- FIXME - search for a specific basisset_title not in whole document & need to check they all the same -->
<transform process="setValue"
xpath=".//cml:scalar[@id='basisset_title']"
value="$string(//cml:scalar[@dictRef='n:basisset_title'])"
/>
<!-- value="$string(../../cml:module[@cmlx:templateRef='summarybasis']/cml:list[@cmlx:templateRef='basis_contractions']/cml:list/cml:scalar[@dictRef='n:basisset_title'])"
 -->
 
<transform process="createWrapperParameter"
xpath=".//cml:scalar[@id='basisset_title']"
/>

<!-- 
        <dc:format>???</dc:format>

        <dc:title>6-31g*</dc:title>

        <bse:basisSetType>orbital</bse:basisSetType>

        <bse:harmonicType>cartesian</bse:harmonicType>

        <bse:contractionType>general</bse:contractionType>

        <dc:description>???</dc:description>
 -->

</transformList>
