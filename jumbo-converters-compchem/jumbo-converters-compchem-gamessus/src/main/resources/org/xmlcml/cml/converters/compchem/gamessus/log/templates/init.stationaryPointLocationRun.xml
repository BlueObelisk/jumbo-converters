<template id="init.stationaryPointLocationRun"
  repeat="*"
  name="STATIONARY POINT LOCATION RUN"
  pattern="\s*-+\s*$\s*STATIONARY POINT LOCATION RUN\s*$\s*-+\s*"      offset="0"
  endPattern="\sBEGINNING GEOMETRY SEARCH.+"   endOffset="0" >

  <comment class="example.input" id="init.stationaryPointLocationRun">
          -----------------------------
          STATIONARY POINT LOCATION RUN
          -----------------------------

 OBTAINING INITIAL HESSIAN, HESS=GUESS   
 CARTESIAN COORDINATE OPTIMIZATION USING BADGER'S RULE FORCE CONSTANT GUESS

          PARAMETERS CONTROLLING GEOMETRY SEARCH ARE
          METHOD =QA                  UPHESS =BFGS    
          NNEG   =         0          NFRZ   =         0
          NSTEP  =        20          IFOLOW =         1
          HESS   =GUESS               RESTAR =         F
          IHREP  =         0          HSSEND =         F
          NPRT   =         0          NPUN   =         0
          OPTTOL = 1.000E-04          RMIN   = 1.500E-03
          RMAX   = 1.000E-01          RLIM   = 7.000E-02
          DXMAX  = 3.000E-01          PURIFY =         F
          MOVIE  =         F          TRUPD  =         T
          TRMAX  = 5.000E-01          TRMIN  = 5.000E-02
          ITBMAT =         5          STPT   =         F
          STSTEP = 1.000E-02          PROJCT=          T

 BEGINNING GEOMETRY SEARCH POINT NSERCH=   0 ...
  </comment>

  <record repeat="8" />
  <record id="stat">\s*METHOD\s*={A,m:geomSearch_method}\s+UPHESS\s*={A,m:geomSearch_uphess}\s*</record>
  <record id="stat">\s*NNEG\s*=\s+{I,m:geomSearch_nneg}\s+NFRZ\s*=\s+{I,m:geomSearch_nfrz}\s*</record>
  <record id="stat">\s*NSTEP\s*=\s+{I,m:geomSearch_nstep}\s+IFOLOW\s*=\s+{I,m:geomSearch_ifolow}\s*</record>
  <record id="stat">\s*HESS\s*={A,m:geomSearch_hess}\s+RESTAR\s*=\s+{A,m:geomSearch_restar}\s*</record>
  <record id="stat">\s*IHREP\s*=\s+{I,m:geomSearch_ihrep}\s+HSSEND\s*=\s+{A,m:geomSearch_hssend}\s*</record>
  <record id="stat">\s*NPRT\s*=\s+{I,m:geomSearch_nprt}\s+NPUN\s*=\s+{I,m:geomSearch_npun}\s*</record>
  <record id="stat">\s*OPTTOL\s*=\s+{X,m:geomSearch_opttol}\s+RMIN\s*=\s+{X,m:geomSearch_rmin}\s*</record>
  <record id="stat">\s*RMAX\s*=\s+{X,m:geomSearch_rmax}\s+RLIM\s*=\s+{X,m:geomSearch_rlim}\s*</record>
  <record id="stat">\s*DXMAX\s*=\s+{X,m:geomSearch_dxmax}\s+PURIFY\s*=\s+{A,m:geomSearch_purify}\s*</record>
  <record id="stat">\s*MOVIE\s*=\s+{A,m:geomSearch_movie}\s+TRUPD\s*=\s+{A,m:geomSearch_trupd}\s*</record>
  <record id="stat">\s*TRMAX\s*=\s+{X,m:geomSearch_trmax}\s+TRMIN\s*=\s+{X,m:geomSearch_trmin}\s*</record>
  <record id="stat">\s*ITBMAT\s*=\s+{I,m:geomSearch_itbmat}\s+STPT\s*=\s+{A,m:geomSearch_stpt}\s*</record>
  <record id="stat">\s*STSTEP\s*=\s+{X,m:geomSearch_ststep}\s+PROJCT\s*=\s+{A,m:geomSearch_projct}\s*</record>
  <record repeat="2" />

  <transform process="addChild" xpath="." elementName="cml:list" dictRef="m:geometrySearchOptions" />

  <transform process="move"
                 to=".//*[@dictRef='m:geometrySearchOptions']"
                 xpath=".//*[contains(@dictRef,'m:')]" />

  <transform process="createWrapperParameter" xpath=".//*[@dictRef='m:geometrySearchOptions']"/>

  <transform process="setDataType" value="xsd:double" xpath=".//*[contains(@dictRef,'opttol') or contains(@dictRef,'rm') or contains(@dictRef,'rl') or contains(@dictRef,'dx') or contains(@dictRef,'trm') or contains(@dictRef,'sts')]" />

  <transform process="delete" xpath=".//cml:list[count(*)=0]" />
  <transform process="delete" xpath=".//cml:list[count(*)=0]" />

  <comment class="example.output" id="init.stationaryPointLocationRun">
    <module cmlx:templateRef="init.stationaryPointLocationRun" xmlns="http://www.xml-cml.org/schema" xmlns:cmlx="http://www.xml-cml.org/schema/cmlx">
      <parameter dictRef="m:geometrySearchOptions">
        <list>
          <scalar dictRef="m:geomSearch_method" dataType="xsd:string" >QA</scalar>
          <scalar dictRef="m:geomSearch_uphess" dataType="xsd:string" >BFGS</scalar>
          <scalar dictRef="m:geomSearch_nneg"   dataType="xsd:integer">0</scalar>
          <scalar dictRef="m:geomSearch_nfrz"   dataType="xsd:integer">0</scalar>
          <scalar dictRef="m:geomSearch_nstep"  dataType="xsd:integer">20</scalar>
          <scalar dictRef="m:geomSearch_ifolow" dataType="xsd:integer">1</scalar>
          <scalar dictRef="m:geomSearch_hess"   dataType="xsd:string" >GUESS</scalar>
          <scalar dictRef="m:geomSearch_restar" dataType="xsd:string" >F</scalar>
          <scalar dictRef="m:geomSearch_ihrep"  dataType="xsd:integer" >0</scalar>
          <scalar dictRef="m:geomSearch_hssend" dataType="xsd:string" >F</scalar>
          <scalar dictRef="m:geomSearch_nprt"   dataType="xsd:integer" >0</scalar>
          <scalar dictRef="m:geomSearch_npun"   dataType="xsd:integer" >0</scalar>
          <scalar dictRef="m:geomSearch_opttol" dataType="xsd:double" >1.0E-4</scalar>
          <scalar dictRef="m:geomSearch_rmin"   dataType="xsd:double" >0.0015</scalar>
          <scalar dictRef="m:geomSearch_rmax"   dataType="xsd:double" >0.1</scalar>
          <scalar dictRef="m:geomSearch_rlim"   dataType="xsd:double" >0.07</scalar>
          <scalar dictRef="m:geomSearch_dxmax"  dataType="xsd:double" >0.3</scalar>
          <scalar dictRef="m:geomSearch_purify" dataType="xsd:string" >F</scalar>
          <scalar dictRef="m:geomSearch_movie"  dataType="xsd:string" >F</scalar>
          <scalar dictRef="m:geomSearch_trupd"  dataType="xsd:string" >T</scalar>
          <scalar dictRef="m:geomSearch_trmax"  dataType="xsd:double" >0.5</scalar>
          <scalar dictRef="m:geomSearch_trmin"  dataType="xsd:double" >0.05</scalar>
          <scalar dictRef="m:geomSearch_itbmat" dataType="xsd:integer" >5</scalar>
          <scalar dictRef="m:geomSearch_stpt"   dataType="xsd:string" >F</scalar>
          <scalar dictRef="m:geomSearch_ststep" dataType="xsd:double" >0.01</scalar>
          <scalar dictRef="m:geomSearch_projct" dataType="xsd:string" >T</scalar>
        </list>
      </parameter>
    </module>
  </comment>

</template>
