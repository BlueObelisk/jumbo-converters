<template id="init.inputCoordinates.bohr"
  repeat="*"
  name="COORDINATES (BOHR)"
  pattern="\s*ATOM +ATOMIC +COORDINATES.*$"      offset="0"
  endPattern="\s*$"   endOffset="0" >

  <comment class="example.input" id="init.inputCoordinates.bohr">
 ATOM      ATOMIC                      COORDINATES (BOHR)
           CHARGE         X                   Y                   Z
 C           6.0     0.0000000000        0.0000000000        0.0000000000
 H           1.0     0.0000000000       -1.6818561291       -1.1892045641
 H           1.0     0.0000000000        1.6818561291       -1.1892045641
 H           1.0    -1.6818561291        0.0000000000        1.1892045641
 H           1.0     1.6818561291        0.0000000000        1.1892045641
  </comment>

  <record repeat="2" />
  <record id="init" makeArray="true" repeat="5">\s*{A,x:atomLabel}\s+{F,cc:elementType}\s+{F,cc:x3}\s+{F,cc:y3}\s+{F,cc:z3}</record>

  <transform process="addChild" xpath="." elementName="cml:list" dictRef="cc:coordinates" />

  <transform process="move"
                 to=".//*[@dictRef='cc:coordinates']"
                 xpath=".//*[contains(@dictRef,'cc:') or contains(@dictRef,'x:')]" />

  <transform process="createWrapperProperty" xpath=".//*[@dictRef='cc:coordinates']"/>

  <transform process="addUnits" xpath=".//*[@dictRef='cc:x3' or @dictRef='cc:y3' or @dictRef='cc:z3']" value="nonSi:bohr" />
  
  <transform process="delete" xpath=".//cml:list[count(*)=0]" />
  <transform process="delete" xpath=".//cml:list[count(*)=0]" />

  <comment class="example.output" id="init.inputCoordinates.bohr">
    <module cmlx:templateRef="init.inputCoordinates.bohr" xmlns="http://www.xml-cml.org/schema" xmlns:cmlx="http://www.xml-cml.org/schema/cmlx">
      <property dictRef="cc:coordinates">
        <list>
          <array dataType="xsd:string" dictRef="x:atomLabel"    size="5" >C H H H H</array>
          <array dataType="xsd:double" dictRef="cc:elementType" size="5" >6.0 1.0 1.0 1.0 1.0</array>
          <array dataType="xsd:double" dictRef="cc:x3" units="nonSi:bohr" size="5" >0.0 0.0 0.0 -1.6818561291 1.6818561291</array>
          <array dataType="xsd:double" dictRef="cc:y3" units="nonSi:bohr" size="5" >0.0 -1.6818561291 1.6818561291 0.0 0.0</array>
          <array dataType="xsd:double" dictRef="cc:z3" units="nonSi:bohr" size="5" >0.0 -1.1892045641 -1.1892045641 1.1892045641 1.1892045641</array>
        </list>
      </property>
    </module>
  </comment>

</template>
