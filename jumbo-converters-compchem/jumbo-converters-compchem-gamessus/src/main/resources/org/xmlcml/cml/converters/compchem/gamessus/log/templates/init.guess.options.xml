<template id="init.guess.options"
  repeat="*"
  name="GUESS OPTIONS"
  pattern="\s*-+\s*$\s*GUESS OPTIONS\s*$\s*-+\s*"      offset="0"
  endPattern="\s*$"   endOffset="0" >

  <comment class="example.input" id="init.guess.options">
          -------------
          GUESS OPTIONS
          -------------
          GUESS =HUCKEL            NORB  =       0          NORDER=       0
          MIX   =       F          PRTMO =       F          PUNMO =       F
          TOLZ  = 1.0E-08          TOLE  = 1.0E-05
          SYMDEN=       F          PURIFY=       F
  </comment>

  <record repeat="3" />
  <record id="opt">\s*GUESS\s*={A,m:guess}\s+NORB\s*=\s+{I,m:norb}\s+NORDER\s*=\s+{I,m:norder}\s*</record>
  <record id="opt">\s*MIX\s*={A,m:mix}\s+PRTMO\s*=\s+{A,m:prtmo}\s+PUNMO\s*=\s+{A,m:punmo}\s*</record>
  <record id="opt">\s*TOLZ\s*=\s+{X,m:tolz}\s+TOLE\s*=\s+{X,m:tole}\s*</record>
  <record id="opt">\s*SYMDEN\s*=\s+{A,m:symden}\s+PURIFY\s*=\s+{A,m:purify}\s*</record>

  <transform process="addChild" xpath="." elementName="cml:list" dictRef="m:guessOptions" />

  <transform process="move"
                 to=".//*[@dictRef='m:guessOptions']"
                 xpath=".//*[contains(@dictRef,'m:')]" />

  <transform process="createWrapperParameter" xpath=".//*[@dictRef='m:guessOptions']"/>

  <transform process="setDataType" value="xsd:double" xpath=".//*[contains(@dictRef,'m:tol')]" />

  <transform process="delete" xpath=".//cml:list[count(*)=0]" />
  <transform process="delete" xpath=".//cml:list[count(*)=0]" />


  <comment class="example.output" id="init.guess.options">
    <module cmlx:templateRef="init.guess.options" xmlns="http://www.xml-cml.org/schema" xmlns:cmlx="http://www.xml-cml.org/schema/cmlx">
        <parameter dictRef="m:guessOptions">
          <list>
            <scalar dictRef="m:guess"  dataType="xsd:string" >HUCKEL</scalar>
            <scalar dictRef="m:norb"   dataType="xsd:integer">0</scalar>
            <scalar dictRef="m:norder" dataType="xsd:integer">0</scalar>
            <scalar dictRef="m:mix"    dataType="xsd:string" >F</scalar>
            <scalar dictRef="m:prtmo"  dataType="xsd:string" >F</scalar>
            <scalar dictRef="m:punmo"  dataType="xsd:string" >F</scalar>
            <scalar dictRef="m:tolz"   dataType="xsd:double" >1.0E-8</scalar>
            <scalar dictRef="m:tole"   dataType="xsd:double" >1.0E-5</scalar>
            <scalar dictRef="m:symden" dataType="xsd:string" >F</scalar>
            <scalar dictRef="m:purify" dataType="xsd:string" >F</scalar>
          </list>
        </parameter>
    </module>
  </comment>

</template>
