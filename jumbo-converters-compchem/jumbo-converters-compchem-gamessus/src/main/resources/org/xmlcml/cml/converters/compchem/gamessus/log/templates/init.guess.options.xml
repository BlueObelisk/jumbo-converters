<template id="init.guess.options"
  repeat="*"
  name="GUESS OPTIONS"
  pattern="\s*-+\s*$\s*GUESS OPTIONS\s*$\s*-+\s*"      offset="0"
  endPattern="\s*$"   endOffset="0" >

  <comment class="example.input" id="init.guess.options">
          -------------
          GUESS OPTIONS
          -------------
          GUESS =HUCKEL            NORB  =       0          NORDER=       0
          MIX   =       F          PRTMO =       F          PUNMO =       F
          TOLZ  = 1.0E-08          TOLE  = 1.0E-05
          SYMDEN=       F          PURIFY=       F
  </comment>

  <record repeat="3" />
  <record id="opt">\s*.*={A,g:guess}\s+.*=\s+{I,g:norb}\s+.*=\s+{I,g:norder}\s*</record>
  <record id="opt">\s*.*={A,g:mix}\s+.*=\s+{A,g:prtmo}\s+.*=\s+{A,g:punmo}\s*</record>
  <record id="opt">\s*.*=\s+{X,g:tolz}\s+TOLE\s+=\s+{X,g:tole}\s*</record>
  <record id="opt">\s*.*=\s+{A,g:symden}\s+.*=\s+{A,g:purify}\s*</record>

  <transform process="addChild" xpath="." elementName="cml:list" dictRef="g:guessOptions" />

  <transform process="move"
                 to=".//*[@dictRef='g:guessOptions']"
                 xpath=".//*[contains(@dictRef,'g:')]" />

  <transform process="createWrapperParameter" xpath=".//*[@dictRef='g:guessOptions']"/>

  <transform process="setDataType" value="xsd:double" xpath=".//*[contains(@dictRef,'g:tol')]" />

  <transform process="delete" xpath=".//cml:list[count(*)=0]" />
  <transform process="delete" xpath=".//cml:list[count(*)=0]" />


  <comment class="example.output" id="init.guess.options">
    <module cmlx:templateRef="init.guess.options" xmlns="http://www.xml-cml.org/schema" xmlns:cmlx="http://www.xml-cml.org/schema/cmlx">
        <parameter dictRef="g:guessOptions">
          <list>
            <scalar dictRef="g:guess"  dataType="xsd:string" >HUCKEL</scalar>
            <scalar dictRef="g:norb"   dataType="xsd:integer">0</scalar>
            <scalar dictRef="g:norder" dataType="xsd:integer">0</scalar>
            <scalar dictRef="g:mix"    dataType="xsd:string" >F</scalar>
            <scalar dictRef="g:prtmo"  dataType="xsd:string" >F</scalar>
            <scalar dictRef="g:punmo"  dataType="xsd:string" >F</scalar>
            <scalar dictRef="g:tolz"   dataType="xsd:double" >1.0E-8</scalar>
            <scalar dictRef="g:tole"   dataType="xsd:double" >1.0E-5</scalar>
            <scalar dictRef="g:symden" dataType="xsd:string" >F</scalar>
            <scalar dictRef="g:purify" dataType="xsd:string" >F</scalar>
          </list>
        </parameter>
    </module>
  </comment>

</template>
